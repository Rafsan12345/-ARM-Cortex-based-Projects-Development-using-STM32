int main(void)
{
    HAL_Init();
    SystemClock_Config();
    MX_GPIO_Init();

    if(CheckFirmwareUpdate()) // custom flag in Flash
    {
        LoadNewFirmware();
    }
    else
    {
        JumpToApplication(); // main app start
    }

    while(1)
    {
        // idle
    }
}
